<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="notice">

<!-- list -->
<select id="list" resultType="com.javaex.vo.NoticeVo">
<![CDATA[
		select n.notice_no no,
		       n.join_no,
		       n.title,
		       n.content,
		       n.hit,
		       n.reg_date,
		       u.name
		from users u, join_users j, notice n
		where n.join_no = j.join_no 
		and j.user_no = u.no
	]]>
</select>

<!-- 등록 -->
<insert id="insert" parameterType="com.javaex.vo.NoticeVo">
<![CDATA[
		insert into notice values(seq_notice_no.nextval, #{join_no}, #{title}, #{content}, default, sysdate)
]]>
</insert>

</mapper>